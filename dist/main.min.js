(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"./src/js/main.js":[function(require,module,exports){
'use strict';

var game = new Phaser.Game(480, 640, Phaser.AUTO, 'planet-mocha-game');

window.Utils = require('./utils');
window.playerState = {
    currentLevel: 'Game'
}

game.state.add('Boot', require('./states/boot'));
game.state.add('Splash', require('./states/splash'));
game.state.add('Preloader', require('./states/preloader'));
// game.state.add('Menu', require('./states/menu'));
game.state.add('Game', require('./states/game'));

game.state.start('Boot');

},{"./states/boot":"/Users/joaojusto/Projectos/planet_mocha/src/js/states/boot.js","./states/game":"/Users/joaojusto/Projectos/planet_mocha/src/js/states/game.js","./states/preloader":"/Users/joaojusto/Projectos/planet_mocha/src/js/states/preloader.js","./states/splash":"/Users/joaojusto/Projectos/planet_mocha/src/js/states/splash.js","./utils":"/Users/joaojusto/Projectos/planet_mocha/src/js/utils.js"}],"/Users/joaojusto/Projectos/planet_mocha/src/js/entities/cannon.js":[function(require,module,exports){
var Cannon = function (game, x, y) {
    Phaser.Sprite.call(this, game, x, y, 'cannon');

    this.anchor.setTo(0.5, 1.2);
    this.scale.set(0.25, 0.25);
    this.radious = this.width * 0.5;

    game.add.existing(this);
};

Cannon.prototype = Object.create(Phaser.Sprite.prototype);
Cannon.prototype.constructor = Cannon;

Cannon.prototype.update = function() {

};

module.exports = Cannon;

},{}],"/Users/joaojusto/Projectos/planet_mocha/src/js/entities/earth.js":[function(require,module,exports){
var Earth = function (game, x, y) {
    Phaser.Sprite.call(this, game, x, y, 'earth');

    this.anchor.setTo(0.5, 0.5);
    this.scale.set(0.6, 0.6);
    this.radious = (this.width * 0.5) * 0.95;

    game.add.existing(this);
};

Earth.prototype = Object.create(Phaser.Sprite.prototype);
Earth.prototype.constructor = Earth;

Earth.prototype.update = function() {

};

module.exports = Earth;

},{}],"/Users/joaojusto/Projectos/planet_mocha/src/js/entities/keyboard.js":[function(require,module,exports){
var Keyboard = function(cursors, target, earth) {
  this.earth = earth;
  this.velocity = 6;
  this.margin = 60;
  this.cursors = cursors;
  this.target = target;
};

Keyboard.prototype.update = function() {
  if (this.cursors.down.isDown) {
    this.onDown();
  }

  if (this.cursors.up.isDown) {
    this.onUp();
  }
};

Keyboard.prototype.onUp = function() {
  if (this.target.y < this.earth.y + this.earth.height / 2 + this.margin) {
    this.target.y += this.velocity;
  }
};

Keyboard.prototype.onDown = function() {
  if (this.target.y > this.earth.y - this.earth.height / 2 - this.margin) {
    this.target.y -= this.velocity;
  }
};

module.exports = Keyboard;

},{}],"/Users/joaojusto/Projectos/planet_mocha/src/js/entities/line.js":[function(require,module,exports){
var Line = function (context, game, x, y, target, cannon) {
  this.target = target;
  this.cannon = cannon;

  this.lineProperties = context.add.bitmapData(game.width, game.height);
  this.lineProperties.ctx.beginPath();
  this.lineProperties.ctx.lineWidth = '2';
  this.lineProperties.ctx.setLineDash([2, 15]);
  this.lineProperties.ctx.strokeStyle = 'rgba(255, 255, 255, 0.5)';
  this.lineProperties.ctx.stroke();

  Phaser.Sprite.call(this, game, x, y, this.lineProperties);

  game.add.existing(this);
};

Line.prototype = Object.create(Phaser.Sprite.prototype);
Line.prototype.constructor = Line;

Line.prototype.update = function() {
  this.lineProperties.clear();
  this.lineProperties.ctx.beginPath();
  this.lineProperties.ctx.moveTo(this.cannon.x, this.cannon.y);
  this.lineProperties.ctx.lineTo(this.target.x, this.target.y);
  this.lineProperties.ctx.stroke();
  this.lineProperties.ctx.closePath();
  this.lineProperties.render();
};

module.exports = Line;

},{}],"/Users/joaojusto/Projectos/planet_mocha/src/js/entities/planet_mocha.js":[function(require,module,exports){
var PlanetMocha = function (game, x, y) {
    Phaser.Sprite.call(this, game, x, y, 'mocha');

    this.anchor.setTo(0.5, 0.5);

    game.add.existing(this);
};

PlanetMocha.prototype = Object.create(Phaser.Sprite.prototype);
PlanetMocha.prototype.constructor = PlanetMocha;

PlanetMocha.prototype.update = function() {

};

module.exports = PlanetMocha;

},{}],"/Users/joaojusto/Projectos/planet_mocha/src/js/states/boot.js":[function(require,module,exports){
var Boot = function () {};

module.exports = Boot;

Boot.prototype = {

  preload: function () {
    this.load.image('preloader', 'assets/preloader.gif');
  },

  create: function () {
    this.game.input.maxPointers = 1;

    if (this.game.device.desktop) {
      this.game.stage.scale.pageAlignHorizontally = true;
    } else {
      this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;
      this.game.scale.minWidth =  480;
      this.game.scale.minHeight = 260;
      this.game.scale.maxWidth = 640;
      this.game.scale.maxHeight = 480;
      this.game.scale.forceLandscape = true;
      this.game.scale.pageAlignHorizontally = true;
      this.game.scale.setScreenSize(true);
    }

    this.game.state.start('Preloader');
  }
};

},{}],"/Users/joaojusto/Projectos/planet_mocha/src/js/states/game.js":[function(require,module,exports){
var Earth = require('../entities/earth');
var Line = require('../entities/line');
var Earth = require('../entities/earth');
var Cannon = require('../entities/cannon');
var Keyboard = require('../entities/keyboard');
var PlanetMocha = require('../entities/planet_mocha');

var Game = function () {
};

module.exports = Game;

Game.prototype = {

  create: function () {
    var width = this.game.width;
    var height = this .game.height;

    this.target = { x: width * 0.5, y: 0 - height * 0.1 };

    this.background = this.add.sprite(0, 0, 'background');
    this.background.scale.set(0.5, 0.5);

    this.earth = new Earth(this.game, width / 2, 0 - height * 0.25);
    this.mochaPlanet = new PlanetMocha(this.game, width * 0.5, height);
    this.cannon = new Cannon(this.game, width * 0.5, height - this.mochaPlanet.height * 0.45);

    this.line = new Line(this, this.game, 0, 0, this.target, this.cannon);

    this.cursors = this.game.input.keyboard.createCursorKeys();
    this.keyboard = new Keyboard(this.cursors, this.target, this.earth);
  },

  update: function () {
    this.keyboard.update();
  }
};

},{"../entities/cannon":"/Users/joaojusto/Projectos/planet_mocha/src/js/entities/cannon.js","../entities/earth":"/Users/joaojusto/Projectos/planet_mocha/src/js/entities/earth.js","../entities/keyboard":"/Users/joaojusto/Projectos/planet_mocha/src/js/entities/keyboard.js","../entities/line":"/Users/joaojusto/Projectos/planet_mocha/src/js/entities/line.js","../entities/planet_mocha":"/Users/joaojusto/Projectos/planet_mocha/src/js/entities/planet_mocha.js"}],"/Users/joaojusto/Projectos/planet_mocha/src/js/states/preloader.js":[function(require,module,exports){
var Preloader = function (game) {
  this.asset = null;
  this.ready = false;
};

module.exports = Preloader;

Preloader.prototype = {

  preload: function () {
    this.asset = this.add.sprite(320, 240, 'preloader');
    this.asset.anchor.setTo(0.5, 0.5);

    this.load.onLoadComplete.addOnce(this.onLoadComplete, this);
    this.load.setPreloadSprite(this.asset);

    this.loadResources();
  },

  loadResources: function() {
    this.load.image('player', 'assets/player.png');
    this.load.bitmapFont('minecraftia', 'assets/minecraftia.png', 'assets/minecraftia.xml');

    this.load.image('pum'          , 'assets/pum.png');
    this.load.image('meteor'       , 'assets/pum.png');
    this.load.image('earth'        , 'assets/earth.png');
    this.load.image('mocha'        , 'assets/mocha.png');
    this.load.image('coffee'       , 'assets/coffee.png');
    this.load.image('cannon'       , 'assets/cannon.png');
    this.load.image('pinpoint'     , 'assets/location.png');
    this.load.image('background'   , 'assets/background.png');
    this.load.spritesheet('flames' , 'assets/flames.png', 36, 62, 3);

    this.loadSounds([
      'hit',
      'miss',
      'fire',
      'earth_hit',
      'meteor_hit',
      'soundtrack'
    ]);
  },

  loadSounds: function(sounds){
    sounds.forEach(function(sound){
      this.load.audio(sound, 'assets/audio/'+ sound +'.mp3');
    }, this);
  },

  create: function () {
    this.asset.cropEnabled = false;
  },

  update: function () {
    if (!!this.ready) {
      this.game.state.start('Game');
    }
  },

  onLoadComplete: function () {
    this.ready = true;
  }
};

},{}],"/Users/joaojusto/Projectos/planet_mocha/src/js/states/splash.js":[function(require,module,exports){
var Splash = function () {
};

module.exports = Splash;

Splash.prototype = {
  create: function () {
  }
};
},{}],"/Users/joaojusto/Projectos/planet_mocha/src/js/utils.js":[function(require,module,exports){
var Utils = {
    containsObject: function(obj, list) {
        var i;
        for (i = 0; i < list.length; i++) {
            if (list[i] === obj) {
                return true;
            }
        }

        return false;
    }
};

module.exports = Utils;
},{}]},{},["./src/js/main.js"])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvbWFpbi5qcyIsInNyYy9qcy9lbnRpdGllcy9jYW5ub24uanMiLCJzcmMvanMvZW50aXRpZXMvZWFydGguanMiLCJzcmMvanMvZW50aXRpZXMva2V5Ym9hcmQuanMiLCJzcmMvanMvZW50aXRpZXMvbGluZS5qcyIsInNyYy9qcy9lbnRpdGllcy9wbGFuZXRfbW9jaGEuanMiLCJzcmMvanMvc3RhdGVzL2Jvb3QuanMiLCJzcmMvanMvc3RhdGVzL2dhbWUuanMiLCJzcmMvanMvc3RhdGVzL3ByZWxvYWRlci5qcyIsInNyYy9qcy9zdGF0ZXMvc3BsYXNoLmpzIiwic3JjL2pzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZSg0ODAsIDY0MCwgUGhhc2VyLkFVVE8sICdwbGFuZXQtbW9jaGEtZ2FtZScpO1xuXG53aW5kb3cuVXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG53aW5kb3cucGxheWVyU3RhdGUgPSB7XG4gICAgY3VycmVudExldmVsOiAnR2FtZSdcbn1cblxuZ2FtZS5zdGF0ZS5hZGQoJ0Jvb3QnLCByZXF1aXJlKCcuL3N0YXRlcy9ib290JykpO1xuZ2FtZS5zdGF0ZS5hZGQoJ1NwbGFzaCcsIHJlcXVpcmUoJy4vc3RhdGVzL3NwbGFzaCcpKTtcbmdhbWUuc3RhdGUuYWRkKCdQcmVsb2FkZXInLCByZXF1aXJlKCcuL3N0YXRlcy9wcmVsb2FkZXInKSk7XG4vLyBnYW1lLnN0YXRlLmFkZCgnTWVudScsIHJlcXVpcmUoJy4vc3RhdGVzL21lbnUnKSk7XG5nYW1lLnN0YXRlLmFkZCgnR2FtZScsIHJlcXVpcmUoJy4vc3RhdGVzL2dhbWUnKSk7XG5cbmdhbWUuc3RhdGUuc3RhcnQoJ0Jvb3QnKTtcbiIsInZhciBDYW5ub24gPSBmdW5jdGlvbiAoZ2FtZSwgeCwgeSkge1xuICAgIFBoYXNlci5TcHJpdGUuY2FsbCh0aGlzLCBnYW1lLCB4LCB5LCAnY2Fubm9uJyk7XG5cbiAgICB0aGlzLmFuY2hvci5zZXRUbygwLjUsIDEuMik7XG4gICAgdGhpcy5zY2FsZS5zZXQoMC4yNSwgMC4yNSk7XG4gICAgdGhpcy5yYWRpb3VzID0gdGhpcy53aWR0aCAqIDAuNTtcblxuICAgIGdhbWUuYWRkLmV4aXN0aW5nKHRoaXMpO1xufTtcblxuQ2Fubm9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUGhhc2VyLlNwcml0ZS5wcm90b3R5cGUpO1xuQ2Fubm9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENhbm5vbjtcblxuQ2Fubm9uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDYW5ub247XG4iLCJ2YXIgRWFydGggPSBmdW5jdGlvbiAoZ2FtZSwgeCwgeSkge1xuICAgIFBoYXNlci5TcHJpdGUuY2FsbCh0aGlzLCBnYW1lLCB4LCB5LCAnZWFydGgnKTtcblxuICAgIHRoaXMuYW5jaG9yLnNldFRvKDAuNSwgMC41KTtcbiAgICB0aGlzLnNjYWxlLnNldCgwLjYsIDAuNik7XG4gICAgdGhpcy5yYWRpb3VzID0gKHRoaXMud2lkdGggKiAwLjUpICogMC45NTtcblxuICAgIGdhbWUuYWRkLmV4aXN0aW5nKHRoaXMpO1xufTtcblxuRWFydGgucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQaGFzZXIuU3ByaXRlLnByb3RvdHlwZSk7XG5FYXJ0aC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFYXJ0aDtcblxuRWFydGgucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEVhcnRoO1xuIiwidmFyIEtleWJvYXJkID0gZnVuY3Rpb24oY3Vyc29ycywgdGFyZ2V0LCBlYXJ0aCkge1xuICB0aGlzLmVhcnRoID0gZWFydGg7XG4gIHRoaXMudmVsb2NpdHkgPSA2O1xuICB0aGlzLm1hcmdpbiA9IDYwO1xuICB0aGlzLmN1cnNvcnMgPSBjdXJzb3JzO1xuICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbn07XG5cbktleWJvYXJkLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuY3Vyc29ycy5kb3duLmlzRG93bikge1xuICAgIHRoaXMub25Eb3duKCk7XG4gIH1cblxuICBpZiAodGhpcy5jdXJzb3JzLnVwLmlzRG93bikge1xuICAgIHRoaXMub25VcCgpO1xuICB9XG59O1xuXG5LZXlib2FyZC5wcm90b3R5cGUub25VcCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy50YXJnZXQueSA8IHRoaXMuZWFydGgueSArIHRoaXMuZWFydGguaGVpZ2h0IC8gMiArIHRoaXMubWFyZ2luKSB7XG4gICAgdGhpcy50YXJnZXQueSArPSB0aGlzLnZlbG9jaXR5O1xuICB9XG59O1xuXG5LZXlib2FyZC5wcm90b3R5cGUub25Eb3duID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLnRhcmdldC55ID4gdGhpcy5lYXJ0aC55IC0gdGhpcy5lYXJ0aC5oZWlnaHQgLyAyIC0gdGhpcy5tYXJnaW4pIHtcbiAgICB0aGlzLnRhcmdldC55IC09IHRoaXMudmVsb2NpdHk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gS2V5Ym9hcmQ7XG4iLCJ2YXIgTGluZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBnYW1lLCB4LCB5LCB0YXJnZXQsIGNhbm5vbikge1xuICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgdGhpcy5jYW5ub24gPSBjYW5ub247XG5cbiAgdGhpcy5saW5lUHJvcGVydGllcyA9IGNvbnRleHQuYWRkLmJpdG1hcERhdGEoZ2FtZS53aWR0aCwgZ2FtZS5oZWlnaHQpO1xuICB0aGlzLmxpbmVQcm9wZXJ0aWVzLmN0eC5iZWdpblBhdGgoKTtcbiAgdGhpcy5saW5lUHJvcGVydGllcy5jdHgubGluZVdpZHRoID0gJzInO1xuICB0aGlzLmxpbmVQcm9wZXJ0aWVzLmN0eC5zZXRMaW5lRGFzaChbMiwgMTVdKTtcbiAgdGhpcy5saW5lUHJvcGVydGllcy5jdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpJztcbiAgdGhpcy5saW5lUHJvcGVydGllcy5jdHguc3Ryb2tlKCk7XG5cbiAgUGhhc2VyLlNwcml0ZS5jYWxsKHRoaXMsIGdhbWUsIHgsIHksIHRoaXMubGluZVByb3BlcnRpZXMpO1xuXG4gIGdhbWUuYWRkLmV4aXN0aW5nKHRoaXMpO1xufTtcblxuTGluZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFBoYXNlci5TcHJpdGUucHJvdG90eXBlKTtcbkxpbmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGluZTtcblxuTGluZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubGluZVByb3BlcnRpZXMuY2xlYXIoKTtcbiAgdGhpcy5saW5lUHJvcGVydGllcy5jdHguYmVnaW5QYXRoKCk7XG4gIHRoaXMubGluZVByb3BlcnRpZXMuY3R4Lm1vdmVUbyh0aGlzLmNhbm5vbi54LCB0aGlzLmNhbm5vbi55KTtcbiAgdGhpcy5saW5lUHJvcGVydGllcy5jdHgubGluZVRvKHRoaXMudGFyZ2V0LngsIHRoaXMudGFyZ2V0LnkpO1xuICB0aGlzLmxpbmVQcm9wZXJ0aWVzLmN0eC5zdHJva2UoKTtcbiAgdGhpcy5saW5lUHJvcGVydGllcy5jdHguY2xvc2VQYXRoKCk7XG4gIHRoaXMubGluZVByb3BlcnRpZXMucmVuZGVyKCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IExpbmU7XG4iLCJ2YXIgUGxhbmV0TW9jaGEgPSBmdW5jdGlvbiAoZ2FtZSwgeCwgeSkge1xuICAgIFBoYXNlci5TcHJpdGUuY2FsbCh0aGlzLCBnYW1lLCB4LCB5LCAnbW9jaGEnKTtcblxuICAgIHRoaXMuYW5jaG9yLnNldFRvKDAuNSwgMC41KTtcblxuICAgIGdhbWUuYWRkLmV4aXN0aW5nKHRoaXMpO1xufTtcblxuUGxhbmV0TW9jaGEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShQaGFzZXIuU3ByaXRlLnByb3RvdHlwZSk7XG5QbGFuZXRNb2NoYS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQbGFuZXRNb2NoYTtcblxuUGxhbmV0TW9jaGEucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBsYW5ldE1vY2hhO1xuIiwidmFyIEJvb3QgPSBmdW5jdGlvbiAoKSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBCb290O1xuXG5Cb290LnByb3RvdHlwZSA9IHtcblxuICBwcmVsb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5sb2FkLmltYWdlKCdwcmVsb2FkZXInLCAnYXNzZXRzL3ByZWxvYWRlci5naWYnKTtcbiAgfSxcblxuICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmdhbWUuaW5wdXQubWF4UG9pbnRlcnMgPSAxO1xuXG4gICAgaWYgKHRoaXMuZ2FtZS5kZXZpY2UuZGVza3RvcCkge1xuICAgICAgdGhpcy5nYW1lLnN0YWdlLnNjYWxlLnBhZ2VBbGlnbkhvcml6b250YWxseSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ2FtZS5zY2FsZS5zY2FsZU1vZGUgPSBQaGFzZXIuU2NhbGVNYW5hZ2VyLlNIT1dfQUxMO1xuICAgICAgdGhpcy5nYW1lLnNjYWxlLm1pbldpZHRoID0gIDQ4MDtcbiAgICAgIHRoaXMuZ2FtZS5zY2FsZS5taW5IZWlnaHQgPSAyNjA7XG4gICAgICB0aGlzLmdhbWUuc2NhbGUubWF4V2lkdGggPSA2NDA7XG4gICAgICB0aGlzLmdhbWUuc2NhbGUubWF4SGVpZ2h0ID0gNDgwO1xuICAgICAgdGhpcy5nYW1lLnNjYWxlLmZvcmNlTGFuZHNjYXBlID0gdHJ1ZTtcbiAgICAgIHRoaXMuZ2FtZS5zY2FsZS5wYWdlQWxpZ25Ib3Jpem9udGFsbHkgPSB0cnVlO1xuICAgICAgdGhpcy5nYW1lLnNjYWxlLnNldFNjcmVlblNpemUodHJ1ZSk7XG4gICAgfVxuXG4gICAgdGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdQcmVsb2FkZXInKTtcbiAgfVxufTtcbiIsInZhciBFYXJ0aCA9IHJlcXVpcmUoJy4uL2VudGl0aWVzL2VhcnRoJyk7XG52YXIgTGluZSA9IHJlcXVpcmUoJy4uL2VudGl0aWVzL2xpbmUnKTtcbnZhciBFYXJ0aCA9IHJlcXVpcmUoJy4uL2VudGl0aWVzL2VhcnRoJyk7XG52YXIgQ2Fubm9uID0gcmVxdWlyZSgnLi4vZW50aXRpZXMvY2Fubm9uJyk7XG52YXIgS2V5Ym9hcmQgPSByZXF1aXJlKCcuLi9lbnRpdGllcy9rZXlib2FyZCcpO1xudmFyIFBsYW5ldE1vY2hhID0gcmVxdWlyZSgnLi4vZW50aXRpZXMvcGxhbmV0X21vY2hhJyk7XG5cbnZhciBHYW1lID0gZnVuY3Rpb24gKCkge1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBHYW1lO1xuXG5HYW1lLnByb3RvdHlwZSA9IHtcblxuICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgd2lkdGggPSB0aGlzLmdhbWUud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IHRoaXMgLmdhbWUuaGVpZ2h0O1xuXG4gICAgdGhpcy50YXJnZXQgPSB7IHg6IHdpZHRoICogMC41LCB5OiAwIC0gaGVpZ2h0ICogMC4xIH07XG5cbiAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZC5zcHJpdGUoMCwgMCwgJ2JhY2tncm91bmQnKTtcbiAgICB0aGlzLmJhY2tncm91bmQuc2NhbGUuc2V0KDAuNSwgMC41KTtcblxuICAgIHRoaXMuZWFydGggPSBuZXcgRWFydGgodGhpcy5nYW1lLCB3aWR0aCAvIDIsIDAgLSBoZWlnaHQgKiAwLjI1KTtcbiAgICB0aGlzLm1vY2hhUGxhbmV0ID0gbmV3IFBsYW5ldE1vY2hhKHRoaXMuZ2FtZSwgd2lkdGggKiAwLjUsIGhlaWdodCk7XG4gICAgdGhpcy5jYW5ub24gPSBuZXcgQ2Fubm9uKHRoaXMuZ2FtZSwgd2lkdGggKiAwLjUsIGhlaWdodCAtIHRoaXMubW9jaGFQbGFuZXQuaGVpZ2h0ICogMC40NSk7XG5cbiAgICB0aGlzLmxpbmUgPSBuZXcgTGluZSh0aGlzLCB0aGlzLmdhbWUsIDAsIDAsIHRoaXMudGFyZ2V0LCB0aGlzLmNhbm5vbik7XG5cbiAgICB0aGlzLmN1cnNvcnMgPSB0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuY3JlYXRlQ3Vyc29yS2V5cygpO1xuICAgIHRoaXMua2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmQodGhpcy5jdXJzb3JzLCB0aGlzLnRhcmdldCwgdGhpcy5lYXJ0aCk7XG4gIH0sXG5cbiAgdXBkYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5rZXlib2FyZC51cGRhdGUoKTtcbiAgfVxufTtcbiIsInZhciBQcmVsb2FkZXIgPSBmdW5jdGlvbiAoZ2FtZSkge1xuICB0aGlzLmFzc2V0ID0gbnVsbDtcbiAgdGhpcy5yZWFkeSA9IGZhbHNlO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBQcmVsb2FkZXI7XG5cblByZWxvYWRlci5wcm90b3R5cGUgPSB7XG5cbiAgcHJlbG9hZDogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYXNzZXQgPSB0aGlzLmFkZC5zcHJpdGUoMzIwLCAyNDAsICdwcmVsb2FkZXInKTtcbiAgICB0aGlzLmFzc2V0LmFuY2hvci5zZXRUbygwLjUsIDAuNSk7XG5cbiAgICB0aGlzLmxvYWQub25Mb2FkQ29tcGxldGUuYWRkT25jZSh0aGlzLm9uTG9hZENvbXBsZXRlLCB0aGlzKTtcbiAgICB0aGlzLmxvYWQuc2V0UHJlbG9hZFNwcml0ZSh0aGlzLmFzc2V0KTtcblxuICAgIHRoaXMubG9hZFJlc291cmNlcygpO1xuICB9LFxuXG4gIGxvYWRSZXNvdXJjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubG9hZC5pbWFnZSgncGxheWVyJywgJ2Fzc2V0cy9wbGF5ZXIucG5nJyk7XG4gICAgdGhpcy5sb2FkLmJpdG1hcEZvbnQoJ21pbmVjcmFmdGlhJywgJ2Fzc2V0cy9taW5lY3JhZnRpYS5wbmcnLCAnYXNzZXRzL21pbmVjcmFmdGlhLnhtbCcpO1xuXG4gICAgdGhpcy5sb2FkLmltYWdlKCdwdW0nICAgICAgICAgICwgJ2Fzc2V0cy9wdW0ucG5nJyk7XG4gICAgdGhpcy5sb2FkLmltYWdlKCdtZXRlb3InICAgICAgICwgJ2Fzc2V0cy9wdW0ucG5nJyk7XG4gICAgdGhpcy5sb2FkLmltYWdlKCdlYXJ0aCcgICAgICAgICwgJ2Fzc2V0cy9lYXJ0aC5wbmcnKTtcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ21vY2hhJyAgICAgICAgLCAnYXNzZXRzL21vY2hhLnBuZycpO1xuICAgIHRoaXMubG9hZC5pbWFnZSgnY29mZmVlJyAgICAgICAsICdhc3NldHMvY29mZmVlLnBuZycpO1xuICAgIHRoaXMubG9hZC5pbWFnZSgnY2Fubm9uJyAgICAgICAsICdhc3NldHMvY2Fubm9uLnBuZycpO1xuICAgIHRoaXMubG9hZC5pbWFnZSgncGlucG9pbnQnICAgICAsICdhc3NldHMvbG9jYXRpb24ucG5nJyk7XG4gICAgdGhpcy5sb2FkLmltYWdlKCdiYWNrZ3JvdW5kJyAgICwgJ2Fzc2V0cy9iYWNrZ3JvdW5kLnBuZycpO1xuICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldCgnZmxhbWVzJyAsICdhc3NldHMvZmxhbWVzLnBuZycsIDM2LCA2MiwgMyk7XG5cbiAgICB0aGlzLmxvYWRTb3VuZHMoW1xuICAgICAgJ2hpdCcsXG4gICAgICAnbWlzcycsXG4gICAgICAnZmlyZScsXG4gICAgICAnZWFydGhfaGl0JyxcbiAgICAgICdtZXRlb3JfaGl0JyxcbiAgICAgICdzb3VuZHRyYWNrJ1xuICAgIF0pO1xuICB9LFxuXG4gIGxvYWRTb3VuZHM6IGZ1bmN0aW9uKHNvdW5kcyl7XG4gICAgc291bmRzLmZvckVhY2goZnVuY3Rpb24oc291bmQpe1xuICAgICAgdGhpcy5sb2FkLmF1ZGlvKHNvdW5kLCAnYXNzZXRzL2F1ZGlvLycrIHNvdW5kICsnLm1wMycpO1xuICAgIH0sIHRoaXMpO1xuICB9LFxuXG4gIGNyZWF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYXNzZXQuY3JvcEVuYWJsZWQgPSBmYWxzZTtcbiAgfSxcblxuICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoISF0aGlzLnJlYWR5KSB7XG4gICAgICB0aGlzLmdhbWUuc3RhdGUuc3RhcnQoJ0dhbWUnKTtcbiAgICB9XG4gIH0sXG5cbiAgb25Mb2FkQ29tcGxldGU6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnJlYWR5ID0gdHJ1ZTtcbiAgfVxufTtcbiIsInZhciBTcGxhc2ggPSBmdW5jdGlvbiAoKSB7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNwbGFzaDtcblxuU3BsYXNoLnByb3RvdHlwZSA9IHtcbiAgY3JlYXRlOiBmdW5jdGlvbiAoKSB7XG4gIH1cbn07IiwidmFyIFV0aWxzID0ge1xuICAgIGNvbnRhaW5zT2JqZWN0OiBmdW5jdGlvbihvYmosIGxpc3QpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gb2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBVdGlsczsiXX0=
